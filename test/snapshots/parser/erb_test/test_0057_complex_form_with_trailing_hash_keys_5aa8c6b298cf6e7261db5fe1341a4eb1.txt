---
source: "Parser::ERBTest#test_0057_complex form with trailing hash keys"
input: |2-
<%= form_with url:, model: custom_field, scope: :custom_field, data: {turbo_frame: :_top}, class: "my-2" do |form| %>
  <%= form.hidden_field :type, value: custom_field.type %>
  <%= form.input :name %>
  <%= form.check_box :required %>
  <%= form.check_box :nullable %>

  <%= component "custom_field_forms/#{custom_field.model_name.element.underscore}", form: %>

  <div class="flex justify-end mt-4 space-x-4">
    <%= component :link, path: custom_fields_path, variant: :button, data: {turbo_frame: :_top} do %>
      <%= t("buttons.back") %>
    <% end %>

    <%= component :button, state: :primary do %>
      <%= button_text %>
    <% end %>
  </div>
<% end %>
---
@ DocumentNode (location: (1:0)-(19:0))
└── children: (2 items)
    ├── @ ERBBlockNode (location: (1:0)-(18:9))
    │   ├── tag_opening: "<%=" (location: (1:0)-(1:3))
    │   ├── content: " form_with url:, model: custom_field, scope: :custom_field, data: {turbo_frame: :_top}, class: "my-2" do |form| " (location: (1:3)-(1:115))
    │   ├── tag_closing: "%>" (location: (1:115)-(1:117))
    │   ├── body: (13 items)
    │   │   ├── @ HTMLTextNode (location: (1:117)-(2:2))
    │   │   │   └── content: "\n  "
    │   │   │
    │   │   ├── @ ERBContentNode (location: (2:2)-(2:58))
    │   │   │   ├── tag_opening: "<%=" (location: (2:2)-(2:5))
    │   │   │   ├── content: " form.hidden_field :type, value: custom_field.type " (location: (2:5)-(2:56))
    │   │   │   ├── tag_closing: "%>" (location: (2:56)-(2:58))
    │   │   │   ├── parsed: true
    │   │   │   └── valid: true
    │   │   │
    │   │   ├── @ HTMLTextNode (location: (2:58)-(3:2))
    │   │   │   └── content: "\n  "
    │   │   │
    │   │   ├── @ ERBContentNode (location: (3:2)-(3:25))
    │   │   │   ├── tag_opening: "<%=" (location: (3:2)-(3:5))
    │   │   │   ├── content: " form.input :name " (location: (3:5)-(3:23))
    │   │   │   ├── tag_closing: "%>" (location: (3:23)-(3:25))
    │   │   │   ├── parsed: true
    │   │   │   └── valid: true
    │   │   │
    │   │   ├── @ HTMLTextNode (location: (3:25)-(4:2))
    │   │   │   └── content: "\n  "
    │   │   │
    │   │   ├── @ ERBContentNode (location: (4:2)-(4:33))
    │   │   │   ├── tag_opening: "<%=" (location: (4:2)-(4:5))
    │   │   │   ├── content: " form.check_box :required " (location: (4:5)-(4:31))
    │   │   │   ├── tag_closing: "%>" (location: (4:31)-(4:33))
    │   │   │   ├── parsed: true
    │   │   │   └── valid: true
    │   │   │
    │   │   ├── @ HTMLTextNode (location: (4:33)-(5:2))
    │   │   │   └── content: "\n  "
    │   │   │
    │   │   ├── @ ERBContentNode (location: (5:2)-(5:33))
    │   │   │   ├── tag_opening: "<%=" (location: (5:2)-(5:5))
    │   │   │   ├── content: " form.check_box :nullable " (location: (5:5)-(5:31))
    │   │   │   ├── tag_closing: "%>" (location: (5:31)-(5:33))
    │   │   │   ├── parsed: true
    │   │   │   └── valid: true
    │   │   │
    │   │   ├── @ HTMLTextNode (location: (5:33)-(7:2))
    │   │   │   └── content: "\n\n  "
    │   │   │
    │   │   ├── @ ERBContentNode (location: (7:2)-(7:92))
    │   │   │   ├── tag_opening: "<%=" (location: (7:2)-(7:5))
    │   │   │   ├── content: " component "custom_field_forms/#{custom_field.model_name.element.underscore}", form: " (location: (7:5)-(7:90))
    │   │   │   ├── tag_closing: "%>" (location: (7:90)-(7:92))
    │   │   │   ├── parsed: true
    │   │   │   └── valid: true
    │   │   │
    │   │   ├── @ HTMLTextNode (location: (7:92)-(9:2))
    │   │   │   └── content: "\n\n  "
    │   │   │
    │   │   ├── @ HTMLElementNode (location: (9:2)-(17:8))
    │   │   │   ├── open_tag:
    │   │   │   │   └── @ HTMLOpenTagNode (location: (9:2)-(9:47))
    │   │   │   │       ├── tag_opening: "<" (location: (9:2)-(9:3))
    │   │   │   │       ├── tag_name: "div" (location: (9:3)-(9:6))
    │   │   │   │       ├── tag_closing: ">" (location: (9:46)-(9:47))
    │   │   │   │       ├── children: (1 item)
    │   │   │   │       │   └── @ HTMLAttributeNode (location: (9:7)-(9:46))
    │   │   │   │       │       ├── name:
    │   │   │   │       │       │   └── @ HTMLAttributeNameNode (location: (9:7)-(9:12))
    │   │   │   │       │       │       └── children: (1 item)
    │   │   │   │       │       │           └── @ LiteralNode (location: (9:7)-(9:12))
    │   │   │   │       │       │               └── content: "class"
    │   │   │   │       │       │
    │   │   │   │       │       │
    │   │   │   │       │       ├── equals: "=" (location: (9:12)-(9:13))
    │   │   │   │       │       └── value:
    │   │   │   │       │           └── @ HTMLAttributeValueNode (location: (9:13)-(9:46))
    │   │   │   │       │               ├── open_quote: """ (location: (9:13)-(9:14))
    │   │   │   │       │               ├── children: (1 item)
    │   │   │   │       │               │   └── @ LiteralNode (location: (9:14)-(9:45))
    │   │   │   │       │               │       └── content: "flex justify-end mt-4 space-x-4"
    │   │   │   │       │               │
    │   │   │   │       │               ├── close_quote: """ (location: (9:45)-(9:46))
    │   │   │   │       │               └── quoted: true
    │   │   │   │       │
    │   │   │   │       │
    │   │   │   │       └── is_void: false
    │   │   │   │
    │   │   │   ├── tag_name: "div" (location: (9:3)-(9:6))
    │   │   │   ├── body: (5 items)
    │   │   │   │   ├── @ HTMLTextNode (location: (9:47)-(10:4))
    │   │   │   │   │   └── content: "\n    "
    │   │   │   │   │
    │   │   │   │   ├── @ ERBBlockNode (location: (10:4)-(12:13))
    │   │   │   │   │   ├── tag_opening: "<%=" (location: (10:4)-(10:7))
    │   │   │   │   │   ├── content: " component :link, path: custom_fields_path, variant: :button, data: {turbo_frame: :_top} do " (location: (10:7)-(10:99))
    │   │   │   │   │   ├── tag_closing: "%>" (location: (10:99)-(10:101))
    │   │   │   │   │   ├── body: (3 items)
    │   │   │   │   │   │   ├── @ HTMLTextNode (location: (10:101)-(11:6))
    │   │   │   │   │   │   │   └── content: "\n      "
    │   │   │   │   │   │   │
    │   │   │   │   │   │   ├── @ ERBContentNode (location: (11:6)-(11:30))
    │   │   │   │   │   │   │   ├── tag_opening: "<%=" (location: (11:6)-(11:9))
    │   │   │   │   │   │   │   ├── content: " t("buttons.back") " (location: (11:9)-(11:28))
    │   │   │   │   │   │   │   ├── tag_closing: "%>" (location: (11:28)-(11:30))
    │   │   │   │   │   │   │   ├── parsed: true
    │   │   │   │   │   │   │   └── valid: true
    │   │   │   │   │   │   │
    │   │   │   │   │   │   └── @ HTMLTextNode (location: (11:30)-(12:4))
    │   │   │   │   │   │       └── content: "\n    "
    │   │   │   │   │   │
    │   │   │   │   │   └── end_node:
    │   │   │   │   │       └── @ ERBEndNode (location: (12:4)-(12:13))
    │   │   │   │   │           ├── tag_opening: "<%" (location: (12:4)-(12:6))
    │   │   │   │   │           ├── content: " end " (location: (12:6)-(12:11))
    │   │   │   │   │           └── tag_closing: "%>" (location: (12:11)-(12:13))
    │   │   │   │   │
    │   │   │   │   │
    │   │   │   │   ├── @ HTMLTextNode (location: (12:13)-(14:4))
    │   │   │   │   │   └── content: "\n\n    "
    │   │   │   │   │
    │   │   │   │   ├── @ ERBBlockNode (location: (14:4)-(16:13))
    │   │   │   │   │   ├── tag_opening: "<%=" (location: (14:4)-(14:7))
    │   │   │   │   │   ├── content: " component :button, state: :primary do " (location: (14:7)-(14:46))
    │   │   │   │   │   ├── tag_closing: "%>" (location: (14:46)-(14:48))
    │   │   │   │   │   ├── body: (3 items)
    │   │   │   │   │   │   ├── @ HTMLTextNode (location: (14:48)-(15:6))
    │   │   │   │   │   │   │   └── content: "\n      "
    │   │   │   │   │   │   │
    │   │   │   │   │   │   ├── @ ERBContentNode (location: (15:6)-(15:24))
    │   │   │   │   │   │   │   ├── tag_opening: "<%=" (location: (15:6)-(15:9))
    │   │   │   │   │   │   │   ├── content: " button_text " (location: (15:9)-(15:22))
    │   │   │   │   │   │   │   ├── tag_closing: "%>" (location: (15:22)-(15:24))
    │   │   │   │   │   │   │   ├── parsed: true
    │   │   │   │   │   │   │   └── valid: true
    │   │   │   │   │   │   │
    │   │   │   │   │   │   └── @ HTMLTextNode (location: (15:24)-(16:4))
    │   │   │   │   │   │       └── content: "\n    "
    │   │   │   │   │   │
    │   │   │   │   │   └── end_node:
    │   │   │   │   │       └── @ ERBEndNode (location: (16:4)-(16:13))
    │   │   │   │   │           ├── tag_opening: "<%" (location: (16:4)-(16:6))
    │   │   │   │   │           ├── content: " end " (location: (16:6)-(16:11))
    │   │   │   │   │           └── tag_closing: "%>" (location: (16:11)-(16:13))
    │   │   │   │   │
    │   │   │   │   │
    │   │   │   │   └── @ HTMLTextNode (location: (16:13)-(17:2))
    │   │   │   │       └── content: "\n  "
    │   │   │   │
    │   │   │   ├── close_tag:
    │   │   │   │   └── @ HTMLCloseTagNode (location: (17:2)-(17:8))
    │   │   │   │       ├── tag_opening: "</" (location: (17:2)-(17:4))
    │   │   │   │       ├── tag_name: "div" (location: (17:4)-(17:7))
    │   │   │   │       ├── children: []
    │   │   │   │       └── tag_closing: ">" (location: (17:7)-(17:8))
    │   │   │   │
    │   │   │   ├── is_void: false
    │   │   │   └── source: "HTML"
    │   │   │
    │   │   └── @ HTMLTextNode (location: (17:8)-(18:0))
    │   │       └── content: "\n"
    │   │
    │   └── end_node:
    │       └── @ ERBEndNode (location: (18:0)-(18:9))
    │           ├── tag_opening: "<%" (location: (18:0)-(18:2))
    │           ├── content: " end " (location: (18:2)-(18:7))
    │           └── tag_closing: "%>" (location: (18:7)-(18:9))
    │
    │
    └── @ HTMLTextNode (location: (18:9)-(19:0))
        └── content: "\n"