---
source: "Engine::ExamplesCompilationTest#test_0017_nested if and blocks compilation"
input: "{source: \"<div id=\\\"output\\\">\\n  <%= tag.div class: \\\"div\\\" do %>\\n    <% if Date.today.friday? %>\\n      <h1>\\n        Happy\\n        <% current_hour = Time.now.hour %>\\n\\n        <% if current_hour < 12 %>\\n          <b>Early Friday</b>\\n        <% elsif current_hour >= 18 %>\\n          <b>Late Friday</b>\\n        <% else %>\\n          <b>Friday</b>\\n        <% end %>\\n      </h1>\\n    <% elsif Date.today.saturday? %>\\n      <h1>\\n        It's\\n        <b>Saturday</b>\\n        <%= \\\" - Time to relax!\\\" %>\\n      </h1>\\n    <% else %>\\n      <h1>\\n        Oh no, it's\\n        <b>Not Friday</b>\\n        <%= \\\" - Keep going!\\\" %>\\n      </h1>\\n    <% end %>\\n  <% end %>\\n</div>\\n\", options: {escape: false}}"
---
_buf = ::String.new;
 _buf << '<div id="output">
  '.freeze; _buf << tag.div class: "div" do; _buf << '
    '.freeze; if Date.today.friday?; _buf << '
      <h1>
        Happy
        '.freeze; current_hour = Time.now.hour; _buf << '

        '.freeze; if current_hour < 12; _buf << '
          <b>Early Friday</b>
        '.freeze; elsif current_hour >= 18; _buf << '
          <b>Late Friday</b>
        '.freeze; else; _buf << '
          <b>Friday</b>
        '.freeze; end; _buf << '
      </h1>
    '.freeze; elsif Date.today.saturday?; _buf << '
      <h1>
        It\'s
        <b>Saturday</b>
        '.freeze; _buf << (" - Time to relax!").to_s; _buf << '
      </h1>
    '.freeze; else; _buf << '
      <h1>
        Oh no, it\'s
        <b>Not Friday</b>
        '.freeze; _buf << (" - Keep going!").to_s; _buf << '
      </h1>
    '.freeze; end; _buf << '
  '.freeze; end; _buf << '
</div>
'.freeze;
_buf.to_s
