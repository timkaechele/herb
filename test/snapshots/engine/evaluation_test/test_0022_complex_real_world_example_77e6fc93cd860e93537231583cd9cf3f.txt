---
source: "Engine::EvaluationTest#test_0022_complex real world example"
input: "{source: \"<!DOCTYPE html>\\n<html>\\n  <head>\\n    <title><%= page_title %></title>\\n    <meta name=\\\"description\\\" content=\\\"<%= meta_description %>\\\">\\n  </head>\\n  <body class=\\\"<%= body_classes.join(' ') %>\\\">\\n    <header>\\n      <h1><%= site_name %></h1>\\n      <nav>\\n        <% navigation_items.each do |item| %>\\n          <a href=\\\"<%= item[:url] %>\\\" class=\\\"<%= item[:active] ? 'active' : '' %>\\\">\\n            <%= item[:title] %>\\n          </a>\\n        <% end %>\\n      </nav>\\n    </header>\\n    \\n    <main>\\n      <% if flash_message %>\\n        <div class=\\\"alert alert-<%= flash_type %>\\\">\\n          <%= flash_message %>\\n        </div>\\n      <% end %>\\n      \\n      <section class=\\\"content\\\">\\n        <% unless posts.empty? %>\\n          <% posts.each_with_index do |post, index| %>\\n            <article class=\\\"post\\\" data-index=\\\"<%= index %>\\\">\\n              <h2><%= post.title %></h2>\\n              <p class=\\\"meta\\\">\\n                By <%= post.author %> on <%= post.date.strftime(\\\"%B %d, %Y\\\") %>\\n              </p>\\n              <div class=\\\"content\\\">\\n                <%= post.excerpt %>\\n              </div>\\n              <% if post.tags.any? %>\\n                <div class=\\\"tags\\\">\\n                  <% post.tags.each do |tag| %>\\n                    <span class=\\\"tag\\\"><%= tag %></span>\\n                  <% end %>\\n                </div>\\n              <% end %>\\n            </article>\\n          <% end %>\\n        <% else %>\\n          <p class=\\\"no-posts\\\">No posts available.</p>\\n        <% end %>\\n      </section>\\n    </main>\\n    \\n    <footer>\\n      <p>&copy; <%= Date.today.year %> <%= site_name %></p>\\n    </footer>\\n  </body>\\n</html>\\n\", locals: {page_title: \"My Blog\", meta_description: \"A blog about programming\", body_classes: [\"blog\", \"home\"], site_name: \"My Awesome Blog\", navigation_items: [{title: \"Home\", url: \"/\", active: true}, {title: \"About\", url: \"/about\", active: false}, {title: \"Contact\", url: \"/contact\", active: false}], flash_message: \"Welcome!\", flash_type: \"success\", posts: [#<struct Engine::EvaluationTest::Post title=\"First Post\", author=\"John Doe\", date=#<Date: 2024-01-15 ((2460325j,0s,0n),+0s,2299161j)>, excerpt=\"This is the first post excerpt.\", tags=[\"ruby\", \"programming\"]>, #<struct Engine::EvaluationTest::Post title=\"Second Post\", author=\"Jane Smith\", date=#<Date: 2024-02-01 ((2460342j,0s,0n),+0s,2299161j)>, excerpt=\"This is the second post excerpt.\", tags=[\"html\", \"css\"]>]}, options: {escape: false}}"
---
<!DOCTYPE html>
<html>
  <head>
    <title>My Blog</title>
    <meta name="description" content="A blog about programming">
  </head>
  <body class="blog home">
    <header>
      <h1>My Awesome Blog</h1>
      <nav>
          <a href="/" class="active">
            Home
          </a>
          <a href="/about" class="">
            About
          </a>
          <a href="/contact" class="">
            Contact
          </a>
      </nav>
    </header>
    
    <main>
        <div class="alert alert-success">
          Welcome!
        </div>
      
      <section class="content">
            <article class="post" data-index="0">
              <h2>First Post</h2>
              <p class="meta">
                By John Doe on January 15, 2024
              </p>
              <div class="content">
                This is the first post excerpt.
              </div>
                <div class="tags">
                    <span class="tag">ruby</span>
                    <span class="tag">programming</span>
                </div>
            </article>
            <article class="post" data-index="1">
              <h2>Second Post</h2>
              <p class="meta">
                By Jane Smith on February 01, 2024
              </p>
              <div class="content">
                This is the second post excerpt.
              </div>
                <div class="tags">
                    <span class="tag">html</span>
                    <span class="tag">css</span>
                </div>
            </article>
      </section>
    </main>
    
    <footer>
      <p>&copy; 2025 My Awesome Blog</p>
    </footer>
  </body>
</html>
